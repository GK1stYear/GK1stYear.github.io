!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){window.cloudGlobalAsync=!0,n(1),n(2)},function(e,t){!function(){"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var t,n,r,i,a="network",o="SPALoadTiming",s="AsyncNetworkRequest",c=(r="App.RUM.SPALoadTimingRecorded",(n=o)in(t={})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),d="spaInitialRender",u="spaDataFullyLoaded",l="presentationInitialRender",f=["confluence-integration-ui","jira-integration-ui","trello-integration-ui"],m="_rum-hc",p=Object.prototype.hasOwnProperty;function g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)p.call(n,r)&&(e[r]=n[r])}return e}function v(t){var n=e(location.href.split("/"),3),r=n[0],i=n[2],a="".concat(r,"//").concat(i),o=t;return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")&&(o="".concat(a).concat(0===t.indexOf("/")?"":"/").concat(t)),o}function P(e){return e&&("//"===e.slice(-2)?e=e.slice(0,-2):"/"===e.slice(-1)&&(e=e.slice(0,-1))),e}function y(e){return P("/".concat(v(e).split("/").slice(3).join("/")))||"/"}function w(e){return P(y(e).split("?")[0])||"/"}function A(e){var t=w(e).split("#")[0];return t?"/".concat(t.split("/")[1]):null}function T(t){var n=function(t){var n=e(v(t).split("/"),3);return e(n[2].split(":"),1)[0].split(".").slice(-2).join(".")}(t);return!(["invisionapp.com","invisionbeta.com","invisionapp-cdn.com"].indexOf(n)>-1||n.match(/invision\.works(:\d{0,5})?$/))}var S=!0;try{(i=window.localStorage).setItem("sess-test",1),i.removeItem("sess-test")}catch(e){S=!1,i={setItem:function(){},getItem:function(){},removeItem:function(){}}}var h=i,L=S,q={isInitialEntrySPA:"unknown",initialEntrySPAName:"unknown",isFirstVisitToCurrentSPA:"unknown",timeSinceLastVisitToSPA:-1},E=function(e){return g({},JSON.parse(JSON.stringify(q)),e||{})},k=E(),O={firstEntrySPA:null,lastVisitsToSPAs:{}},R=function(e){return g({},JSON.parse(JSON.stringify(O)),e||{})},b=R(),C=function(){return k},I=window.self&&window.top&&window.self!==window.top;function D(t){var n,r,i=t.name,a=t.payload;if(i&&a)try{var d=window.rum.config(),u=navigator.connection||navigator.mozConnection||navigator.webkitConnection,l=C(),m=l.isInitialEntrySPA,p=l.initialEntrySPAName,P=l.isFirstVisitToCurrentSPA,w=l.timeSinceLastVisitToSPA,T=g({rumSPAName:d.appName||"unknown",rumPageId:window.rum.__pageId,connectionEffectiveType:u&&u.effectiveType||"unknown",connectionDownlink:u&&u.downlink||"unknown",inIframe:I,pageVisible:void 0===document.hidden?"unknown":!document.hidden,domain:(n=window.location.href,r=e(v(n).split("/"),3),e(r[2].split(":"),1)[0]||"unknown"),pagePathname:y(window.location.href)||"unknown",pageServiceRoute:A(window.location.href)||"unknown",isInitialEntrySPA:m,initialEntrySPAName:p,isFirstVisitToCurrentSPA:P,timeSinceLastVisitToSPA:w},a),S=function(e){var t={newRelic:!0,amplitude:!1,segment:!0},n=window.rum.config().appName;return e!==o||-1!==f.indexOf(n)||I||(t.amplitude=!0),e===s&&(t.amplitude=!1,t.segment=!1),t}(i);S.newRelic&&window.newrelic&&window.newrelic.addPageAction&&window.newrelic.addPageAction(i,T),(S.segment||S.amplitude)&&window.measure&&window.measure.collect&&window.measure.collect(c[i]||i,T,{integrations:{All:!1,Amplitude:!!S.amplitude,"Segment.io":!!S.segment,Appboy:!1}})}catch(e){window.rum.__logError("failed to send data",e)}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"complete"===document.readyState?setTimeout(function(){e()},t):window.addEventListener("load",function(){setTimeout(function(){e()},t)})}var N={loc:"serverTimingLocationAPI",srtt:"serverTimingServerRTT",erpl:"serverTimingEdgeRequestProcessLatency",e2sttfb:"serverTimingEdgeToServiceTTFB",trtt:"serverTimingTransmissionRTT"};function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=e.sort(function(e,t){return e-t}),a=[];return n.forEach(function(e){return a.push((n=e,s=(r=((t=i).length-1)*n)-(o=Math.floor(r)),void 0!==t[o+1]?t[o]+s*(t[o+1]-t[o]):t[o]));var t,n,r,o,s}),a}function j(t,n){if(!t)return{};var r=performance.now(),i=0,a=0,o=0,s=0,c=0,d=0,u=0,l=0,f=0,m=0,p=0,g=0,v=0,P=0,y=0,A=0,S=0,h=0,L=0,q=0,E=0,k=0,O=0,R=0,b=0,C=0,I=0,D=0,M=0,N=0,j=0,_=0,B=0,F=0,H=[],V=[],z=[],J=[],G=[];try{var U=t.domContentLoadedEventStart,W=t.loadEventStart;if(performance.getEntriesByType("resource").forEach(function(e){var t=e.responseEnd-e.fetchStart,r=t<=20,q=e.fetchStart<U,E=e.fetchStart<W,k=e.fetchStart<n;if(q||E||k){var O,R=T(e.name),b=(O=e.name,/\.html|\.js|\.css|\.png|\.jpg|\.jpeg|\.svg|\.ico|\.gif|\.eot|\.ttf|\.woff|\.woff2|\.map$/gi.test(w(O))),C=function(e){var t=w(e);return/^\/assets\//gi.test(t)&&-1===t.indexOf("rum-not-an-asset")}(e.name);q&&(i++,r&&g++,R?s++:b&&(u++,H.push(t),r&&y++)),E&&(a++,r&&v++,R?c++:b?(l++,V.push(t),r&&A++):C&&(m++,J.push(t),r&&h++)),k&&(o++,r&&P++,R?d++:b?(f++,z.push(t),r&&S++):C&&(p++,G.push(t),r&&L++))}}),u){q=H.reduce(function(e,t){return e+t},0)/H.length;var $=e(x(H,.9,1),2),K=$[0],Y=$[1];b=K,N=Y}if(l){E=V.reduce(function(e,t){return e+t},0)/V.length;var Q=e(x(V,.9,1),2),X=Q[0],Z=Q[1];C=X,j=Z}if(f){k=z.reduce(function(e,t){return e+t},0)/z.length;var ee=e(x(z,.9,1),2),te=ee[0],ne=ee[1];I=te,_=ne}if(m){O=J.reduce(function(e,t){return e+t},0)/J.length;var re=e(x(J,.9,1),2),ie=re[0],ae=re[1];D=ie,B=ae}if(p){R=G.reduce(function(e,t){return e+t},0)/G.length;var oe=e(x(G,.9,1),2),se=oe[0],ce=oe[1];M=se,F=ce}}catch(e){rum.__logError(e)}return{reqsPreDOMCLTotal:i,reqsPrePageLoadTotal:a,reqsPreSPAReadyTotal:o,reqsPreDOMCL3rdParty:s,reqsPrePageLoad3rdParty:c,reqsPreSPAReady3rdParty:d,reqsPreDOMCLAppAssets:u,reqsPrePageLoadAppAssets:l,reqsPreSPAReadyAppAssets:f,reqsPrePageLoadDesignAssets:m,reqsPreSPAReadyDesignAssets:p,reqsPreDOMCLTotalFromCache:g,reqsPrePageLoadTotalFromCache:v,reqsPreSPAReadyTotalFromCache:P,reqsPreDOMCLAppAssetsFromCache:y,reqsPrePageLoadAppAssetsFromCache:A,reqsPreSPAReadyAppAssetsFromCache:S,reqsPrePageLoadDesignAssetsFromCache:h,reqsPreSPAReadyDesignAssetsFromCache:L,reqsPreDOMCLAppAssetsAvgLoad:q,reqsPrePageLoadAppAssetsAvgLoad:E,reqsPreSPAReadyAppAssetsAvgLoad:k,reqsPrePageLoadDesignAssetsAvgLoad:O,reqsPreSPAReadyDesignAssetsAvgLoad:R,reqsPreDOMCLAppAssetsP90Load:b,reqsPrePageLoadAppAssetsP90Load:C,reqsPreSPAReadyAppAssetsP90Load:I,reqsPrePageLoadDesignAssetsP90Load:D,reqsPreSPAReadyDesignAssetsP90Load:M,reqsPreDOMCLAppAssetsP100Load:N,reqsPrePageLoadAppAssetsP100Load:j,reqsPreSPAReadyAppAssetsP100Load:_,reqsPrePageLoadDesignAssetsP100Load:B,reqsPreSPAReadyDesignAssetsP100Load:F,networkUtilizationCalcTime:performance.now()-r}}function _(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.afterPageLoadWait,a=r.onAggregationComplete;M(function(){var r=[d];t.config().noRequiredData||r.push(u),t.config().buildsPresentation&&r.push(l),t.whenAllMarksMade(r,function(r){var i,s,c=e(r,3),d=c[0],u=c[1],l=c[2];try{var f=window.performance||{getEntriesByType:function(){},timing:{}};u&&t.config().noRequiredData&&t.config().buildsPresentation&&(l=u,u=null);var m=d.markEnvironment.href,p=d.timeMarked,v=u&&u.timeMarked||-1,P=l&&l.timeMarked||-1,y=v>-1?t.timeBetweenMarks(d,u):-1,w=P>-1?t.timeBetweenMarks(d,l):-1,A=Math.max(p,v,P),T=function(){var e=-1,t=-1;try{(performance.getEntriesByType("paint")||[]).forEach(function(n){"first-paint"===n.name?e=n.startTime:"first-contentful-paint"===n.name&&(t=n.startTime)})}catch(e){}return{firstPaint:e,firstContentfulPaint:t}}(),S=T.firstPaint,h=T.firstContentfulPaint,L={},q={};try{if(f.getEntriesByType){var E=f.getEntriesByType("navigation")[0];if(E){var k=JSON.parse(JSON.stringify(E));if(E.fetchStart&&void 0===k.fetchStart){var O={};Object.keys(Object.getPrototypeOf(E)).forEach(function(e){O[e]=E[e]}),void 0!==O.fetchStart&&(L=O)}else L=k;q=j(L,A)}}if(!L&&f.timing){var R=JSON.parse(JSON.stringify(f.timing));L=Object.keys(R).reduce(function(e,t){var n=R[t];if(-1===["navigationStart","domLoading"].indexOf(t)){var r=parseInt(n,10)&&n-R.navigationStart;e[t]=r}return e},{startTime:0,decodedBodySize:-1,encodedBodySize:-1,entryType:"navigation",initiatorType:"unknown",name:window.location&&window.location.href||"",nextHopProtocol:"",serverTiming:[],type:"unknown",transferSize:-1,workerStart:0,redirectCount:-1,duration:R.loadEventEnd-R.navigationStart})}if(L){L.navigationStart=L.startTime||0;var b=L.serverTiming?(i=L.serverTiming,s={},(i||[]).forEach(function(e){var t=e.name,n=e.duration,r=e.description;t&&n&&(s[N[t]||"name-not-mapped"]=n),t&&r&&(s["".concat(N[t]||"name-not-mapped","Desc")]=r)}),s):{respHeaderServerTiming:"unset",serverTimingLocationAPI:-1,serverTimingLocationAPIDesc:null,serverTimingServerRTT:-1,serverTimingEdgeRequestProcessLatency:-1,serverTimingEdgeToServiceTTFB:-1,serverTimingTransmissionRTT:-1};Object.keys(b||{}).forEach(function(e){return L[e]=b[e]}),["workerStart","name","serverTiming","startTime"].forEach(function(e){return delete L[e]})}}catch(e){t.__logError(e)}var C=g({spaInitialRender:p,spaDataFullyLoaded:v,initialRenderToDataFetched:y,presentationInitialRender:P,initialRenderToPresentationRender:w,firstPaint:S,firstContentfulPaint:h,intialRenderHref:m},L||{},q||{});t.timing=t.timing||{},t.timing.spaInitialLoadTimes=C,n({name:o,payload:C}),a&&a()}catch(e){console.error(e)}})},void 0!==i?i:200)}var B=function(){};function F(t){var n=t.markProps,r=n.method,i=n.url,a=n.statusCode,o=n.requestType,c=n.requestIdentifier,d=n.requestIndex,u=n.requestHeaders,l=n.responseHeaders,f=n.requestSentMark,m=n.responseProcessedMark;if(function(e){var t=e.indexOf("/lightstep/api/")>=0||e.indexOf(".com/assets/")>=0||e.indexOf(".works/assets/")>=0;return!T(e)&&!t}(i)){var p=f.timeMarked,g=m?m.timeMarked:-1,P={url:i,absoluteUrl:v(i)||"unknown",pathname:y(i)||"unknown",requestServiceRoute:A(i)||"unknown",method:r,statusCode:a,requestType:o,requestIdentifier:c,requestIndex:d,timeRequested:p,timeResponseProcessed:g,requestRTT:g-p,reqHeaderCallingService:"unset",reqHeaderRequestSource:"unset",respHeaderRequestId:"unset",respHeaderServerTiming:"unset",serverTimingLocationAPI:-1,serverTimingLocationAPIDesc:null,serverTimingServerRTT:-1,serverTimingEdgeRequestProcessLatency:-1,serverTimingEdgeToServiceTTFB:-1,serverTimingTransmissionRTT:-1,requestLocationHref:f.markEnvironment&&f.markEnvironment.href};Array.isArray(u)&&u.forEach(function(e){var t=e.header,n=e.value,r=t.trim().toLowerCase();"calling-service"===r&&n&&(P.reqHeaderCallingService=n),"request-source"===r&&n&&(P.reqHeaderRequestSource=n)}),Array.isArray(l)&&l.forEach(function(t){var n,r=t.header,i=t.value,a=r.trim().toLowerCase();if("request-id"===a&&i&&(P.respHeaderRequestId=i),"server-timing"===a&&i){P.respHeaderServerTiming=i;var o=(n={},(i||"").split(",").forEach(function(t){var r=e(t.split(";"),3),i=r[0],a=void 0===i?"":i,o=r[1],s=void 0===o?"":o,c=r[2],d=void 0===c?"":c,u=0===s.indexOf("dur=")?s:0===d.indexOf("dur=")?d:null,l=0===s.indexOf("desc=")?s:0===d.indexOf("desc=")?d:null;a&&u&&(n[N[a]||"name-not-mapped"]=parseInt(u.replace("dur=",""),10)),a&&l&&(n["".concat(N[a]||"name-not-mapped","Desc")]=(l||"").replace("desc=","")||null)}),n);Object.keys(o||{}).forEach(function(e){return P[e]=o[e]})}}),B&&B({name:s,payload:P})}}!function(){if(window.rum&&!window.rum.clientLoaded){window.rum.clientLoaded=!0;var e=window.rum;e.config().appName||e.__logError('window.rum has not been given an appName in rum.config({ appName: "your-app-name" })'),performance.setResourceTimingBufferSize&&performance.setResourceTimingBufferSize(200),function(e){var t=e.config().appName,n=Date.now();if(t&&L){var r=h.getItem(m),i={};try{r&&(i=JSON.parse(r))}catch(t){e.__logError(t)}var a=(b=R(i)).lastVisitsToSPAs[t],o=isNaN(a),s=o?-1:n-a;k=E({isInitialEntrySPA:!b.firstEntrySPA,initialEntrySPAName:b.firstEntrySPA||t,isFirstVisitToCurrentSPA:o,timeSinceLastVisitToSPA:s}),b.lastVisitsToSPAs[t]=n,b.firstEntrySPA=k.initialEntrySPAName,h.setItem(m,JSON.stringify(b))}}(e),_(e,D),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};B=t;var r=n.afterPageLoadWait,i=n.onSetupComplete;M(function(){try{e.getMarksByType(a).forEach(F),e.onMarkAdded(function(e){e.markType===a&&F(e)}),i&&i()}catch(e){console.error(e)}},void 0!==r?r:200)}(e,D)}}()}()},function(e,t){var n,r,i,a;r="load complete",a=[{key:"LINKEDIN",consentDomains:["linkedin.com","bizographics.com"],consentCategory:i="advertising",load:function(e,t){if(!(e=e||{}).testingLoader){window._bizo_data_partner_id="8262";var n=document.getElementsByTagName("script")[0],i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=("https:"===window.location.protocol?"https://sjs":"http://js")+".bizographics.com/inspect.min.js",n.parentNode.insertBefore(i,n)}t(r)}},{key:"GOOGLE_ANALYTICS",consentDomains:["google-analytics.com"],consentCategory:i,load:function(e,t){var n,i,a,o,s;(e=e||{}).testingLoader||(n=window,i=document,a="script","ga",n.GoogleAnalyticsObject="ga",n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,o=i.createElement(a),s=i.getElementsByTagName(a)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)),t(r)}}],n=function(){window.inGlobalContext&&window.inGlobalContext.thirdPartyManager?window.inGlobalContext.thirdPartyManager._onAsyncLoadersReady(a):function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,["ThirdPartyManager Error:"].concat(n))}("async modules are attempted to be added to the page but the synchronous pieces of thirdPartyManager are not available.")},window.requestIdleCallback?window.requestIdleCallback(n,{timeout:1e4}):"complete"===document.readyState?setTimeout(n,2e3):document.addEventListener("readystatechange",function(){"complete"===document.readyState&&setTimeout(n,2e3)})}]);
//# sourceMappingURL=cloud-global-async.js.map